---
layout: search
sitemap: false
no_version_test: true
---
{% include variables.md %}
<form class="form-inline" role="search" action="{{ site.baseurl }}/search/" method="get">
      <div class="form-group">
          <select name="version" id="version-select">
          {% for item in versions %}
             <option value="{{ item }}">
                {{ item }}{% if item == latest_version %} (latest) {% endif %}
             </option>
          {% endfor %}
          </select>

          <input type="text" class="form-control" id="search-box" placeholder="Search" name="query">
      </div>
      <button type="submit" class="btn btn-default">Submit</button>
</form>

<ul id="search-results"></ul>

<script>
  {% capture database %}
  window.store = {
    {% for post in site.pages %}
        {% assign processed_content = '' %}
        {% assign content =  post.content | strip_html | jsonify | replace: '\r', '\n' | split: '\n'%}
        {% for content_chunk in content %}
             {% capture processed_content %}{{ processed_content }}{{ content_chunk | strip }}{% unless forloop.last %}\n{% endunless %}{% endcapture %}           
        {% endfor %}
      "{{ post.url | slugify }}": {
        "title": "{{ post.title | xml_escape }}",
        "content": {{ processed_content }},
        "url": "{{ site.baseurl}}{{ post.url | xml_escape }}",
        "test": "{{ post.sitemap }}"
        }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  };
  {% endcapture %}
  {{ database | strip_newlines | replace: '\n\n\n\n', '\n' | replace: '\n\n\n', '\n' | replace: '\n\n', '\n' | split: ' ' | join: ' ' }}
</script>
<script src="{{ site.baseurl }}/public/js/lunr.min.js"></script>
<script src="{{ site.baseurl }}/public/js/search.js"></script>
